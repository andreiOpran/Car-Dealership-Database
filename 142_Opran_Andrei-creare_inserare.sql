TRUNCATE TABLE MOTOR_CARBURANT;
TRUNCATE TABLE MOTOR_ELECTRIC;
TRUNCATE TABLE SHOWROOM_NUMERE_TELEFON;
TRUNCATE TABLE VEHICUL;
TRUNCATE TABLE CLIENT_NUMERE_TELEFON;
TRUNCATE TABLE TRANZACTIE;
TRUNCATE TABLE SERVICE;
TRUNCATE TABLE CARBURANT;
TRUNCATE TABLE MECANIC;
TRUNCATE TABLE VANZATOR;
TRUNCATE TABLE VEHICUL_DETINUT_CLIENT;
TRUNCATE TABLE PLATA;
TRUNCATE TABLE MOTOR;
TRUNCATE TABLE CAROSERIE;
TRUNCATE TABLE ANGAJAT_SHOWROOM;
TRUNCATE TABLE SHOWROOM;
TRUNCATE TABLE ADRESA;
TRUNCATE TABLE CLIENT;

DROP TABLE MOTOR_CARBURANT;
DROP TABLE MOTOR_ELECTRIC;
DROP TABLE SHOWROOM_NUMERE_TELEFON;
DROP TABLE VEHICUL;
DROP TABLE CLIENT_NUMERE_TELEFON;
DROP TABLE TRANZACTIE;
DROP TABLE SERVICE;
DROP TABLE CARBURANT;
DROP TABLE MECANIC;
DROP TABLE VANZATOR;
DROP TABLE VEHICUL_DETINUT_CLIENT;
DROP TABLE PLATA;
DROP TABLE CAROSERIE;
DROP TABLE ANGAJAT_SHOWROOM;
DROP TABLE SHOWROOM;
DROP TABLE ADRESA;
DROP TABLE MOTOR;
DROP TABLE CLIENT;

DROP SEQUENCE MOTOR_SEQUENCE;
DROP SEQUENCE CARBURANT_SEQUENCE;
DROP SEQUENCE CAROSERIE_SEQUENCE;
DROP SEQUENCE ADRESA_SEQUENCE;
DROP SEQUENCE SHOWROOM_SEQUENCE;
DROP SEQUENCE SHOWROOM_NUMERE_TELEFON_SEQUENCE;
DROP SEQUENCE VEHICUL_SEQUENCE;
DROP SEQUENCE ANGAJAT_SHOWROOM_SEQUENCE;
DROP SEQUENCE CLIENT_SEQUENCE;
DROP SEQUENCE CLIENT_NUMERE_TELEFON_SEQUENCE;
DROP SEQUENCE VEHICUL_DETINUT_CLIENT_SEQUENCE;
DROP SEQUENCE PLATA_SEQUENCE;
DROP SEQUENCE TRANZACTIE_SEQUENCE;
DROP SEQUENCE SERVICE_SEQUENCE;


-- 10. CREAREA UNEI SECVENTE CE VA FI FOLOSITA IN INSERAREA INREGISTRARILOR IN TABELE
CREATE SEQUENCE MOTOR_SEQUENCE
    START WITH 1000;
CREATE SEQUENCE CARBURANT_SEQUENCE
    START WITH 1;
CREATE SEQUENCE CAROSERIE_SEQUENCE
    START WITH 1;
CREATE SEQUENCE ADRESA_SEQUENCE
    START WITH 1;
CREATE SEQUENCE SHOWROOM_SEQUENCE
    START WITH 1;
CREATE SEQUENCE SHOWROOM_NUMERE_TELEFON_SEQUENCE
    START WITH 1;
CREATE SEQUENCE VEHICUL_SEQUENCE
    START WITH 1000000
    INCREMENT BY 10;
CREATE SEQUENCE ANGAJAT_SHOWROOM_SEQUENCE
    START WITH 1;
CREATE SEQUENCE CLIENT_SEQUENCE
    START WITH 1;
CREATE SEQUENCE CLIENT_NUMERE_TELEFON_SEQUENCE
    START WITH 1;
CREATE SEQUENCE VEHICUL_DETINUT_CLIENT_SEQUENCE
    START WITH 1000000
    INCREMENT BY 10;
CREATE SEQUENCE PLATA_SEQUENCE
    START WITH 1;
CREATE SEQUENCE TRANZACTIE_SEQUENCE
    START WITH 1000000
    INCREMENT BY 7;
CREATE SEQUENCE SERVICE_SEQUENCE
    START WITH 1000000
    INCREMENT BY 7;
-- 11. Crearea tabelelor si inserarea de date coerente (minim 5 inregistrari tabel neasociativ, minim 10 inregistrari tabel asociativ)

-- TABEL MOTOR

-- CREARE TABEL MOTOR
CREATE TABLE MOTOR
(
    ID_MOTOR INT PRIMARY KEY,
    MARCA VARCHAR(30) DEFAULT 'NECUNOSCUT',
    MODEL VARCHAR(30) DEFAULT 'NECUNOSCUT'
);

-- INSERARE INREGISTRARI IN TABEL MOTOR

INSERT INTO MOTOR(ID_MOTOR, MARCA, MODEL)
VALUES (MOTOR_SEQUENCE.NEXTVAL, 'Dacia', 'B14A');

INSERT INTO MOTOR(ID_MOTOR, MARCA, MODEL)
VALUES (MOTOR_SEQUENCE.NEXTVAL, 'Dacia', 'M16A');

INSERT INTO MOTOR(ID_MOTOR, MARCA, MODEL)
VALUES (MOTOR_SEQUENCE.NEXTVAL, 'Dacia', 'M16T');

INSERT INTO MOTOR(ID_MOTOR, MARCA, MODEL)
VALUES (MOTOR_SEQUENCE.NEXTVAL, 'Dacia', 'ESPRNG45');

INSERT INTO MOTOR(ID_MOTOR, MARCA, MODEL)
VALUES (MOTOR_SEQUENCE.NEXTVAL, 'Dacia', 'ESPRNG65');

INSERT INTO MOTOR(ID_MOTOR, MARCA, MODEL)
VALUES (MOTOR_SEQUENCE.NEXTVAL, 'Dacia', 'ESPRNG85');

INSERT INTO MOTOR(ID_MOTOR, MARCA, MODEL)
VALUES (MOTOR_SEQUENCE.NEXTVAL, 'Dacia', 'ESPRNG105');

INSERT INTO MOTOR(ID_MOTOR, MARCA, MODEL)
VALUES (MOTOR_SEQUENCE.NEXTVAL, 'Dacia', 'ESPRNG125');

INSERT INTO MOTOR(ID_MOTOR, MARCA, MODEL)
VALUES (MOTOR_SEQUENCE.NEXTVAL, 'Dacia', 'B14T');

INSERT INTO MOTOR(ID_MOTOR, MARCA, MODEL)
VALUES (MOTOR_SEQUENCE.NEXTVAL, 'Dacia', 'M16T');

SELECT *
FROM MOTOR;

-- TABEL CARBURANT

-- CREARE TABEL CARBURANT
CREATE TABLE CARBURANT
(
    ID_CARBURANT INT PRIMARY KEY,
    TIP VARCHAR(30) DEFAULT 'Necunoscut',
    VARIANTA VARCHAR(30) DEFAULT 'Necunoscut',
    PRET_LITRU NUMBER(3,2),
    CONSTRAINT CHECK_PRET_LITRU CHECK (PRET_LITRU > 0),
    CONSTRAINT CHECK_TIP CHECK (TIP IN ('Benzina', 'Motorina'))
);

-- INSERARE INREGISTRARI IN TABEL CARBURANT

INSERT INTO CARBURANT(ID_CARBURANT, TIP, VARIANTA, PRET_LITRU)
VALUES (CARBURANT_SEQUENCE.NEXTVAL, 'Benzina', '95', 7.21);

INSERT INTO CARBURANT(ID_CARBURANT, TIP, VARIANTA, PRET_LITRU)
VALUES (CARBURANT_SEQUENCE.NEXTVAL, 'Benzina', '98', 7.35);

INSERT INTO CARBURANT(ID_CARBURANT, TIP, VARIANTA, PRET_LITRU)
VALUES (CARBURANT_SEQUENCE.NEXTVAL, 'Motorina', 'Euro 5', 7.12);

INSERT INTO CARBURANT(ID_CARBURANT, TIP, VARIANTA, PRET_LITRU)
VALUES (CARBURANT_SEQUENCE.NEXTVAL, 'Motorina', 'Euro 6', 7.15);

INSERT INTO CARBURANT(ID_CARBURANT, TIP, VARIANTA, PRET_LITRU)
VALUES (CARBURANT_SEQUENCE.NEXTVAL, 'Motorina', 'Euro 7', 7.25);

SELECT *
FROM CARBURANT;

-- TABEL MOTOR_CARBURANT

-- CREARE TABEL MOTOR_CARBURANT
CREATE TABLE MOTOR_CARBURANT
(
    ID_MOTOR INT PRIMARY KEY,
    ID_CARBURANT INT,
    CAI_PUTERE INT,
    CAPACITATE_CILINDRICA_LITRI NUMBER(3,1),
    CONSUM_MEDIU_LITRI NUMBER(4,2),
    ASPIRATIE VARCHAR(30) DEFAULT 'Aspirat',
    FOREIGN KEY (ID_MOTOR) REFERENCES MOTOR(ID_MOTOR),
    FOREIGN KEY (ID_CARBURANT) REFERENCES CARBURANT(ID_CARBURANT),
    CONSTRAINT CHECK_CAI_PUTERE_CARBURANT CHECK (CAI_PUTERE > 0),
    CONSTRAINT CHECK_CAPACITATE_CILINDRICA_LITRI CHECK (CAPACITATE_CILINDRICA_LITRI > 0),
    CONSTRAINT CHECK_CONSUM_MEDIU_LITRI CHECK (CONSUM_MEDIU_LITRI > 0),
    CONSTRAINT CHECK_ASPIRATIE CHECK (ASPIRATIE IN ('Aspirat', 'Turbina'))
);

-- INSERARE INREGISTRARI IN TABEL MOTOR_CARBURANT

INSERT INTO MOTOR_CARBURANT(ID_MOTOR, ID_CARBURANT, CAI_PUTERE, CAPACITATE_CILINDRICA_LITRI, CONSUM_MEDIU_LITRI, ASPIRATIE)
VALUES (1000, 1, 75, 1.4, 5.6, 'Aspirat');

INSERT INTO MOTOR_CARBURANT(ID_MOTOR, ID_CARBURANT, CAI_PUTERE, CAPACITATE_CILINDRICA_LITRI, CONSUM_MEDIU_LITRI, ASPIRATIE)
VALUES (1001, 3, 90, 1.6, 6.2, 'Aspirat');

INSERT INTO MOTOR_CARBURANT(ID_MOTOR, ID_CARBURANT, CAI_PUTERE, CAPACITATE_CILINDRICA_LITRI, CONSUM_MEDIU_LITRI, ASPIRATIE)
VALUES (1002, 4, 100, 1.6, 5.8, 'Turbina');

INSERT INTO MOTOR_CARBURANT(ID_MOTOR, ID_CARBURANT, CAI_PUTERE, CAPACITATE_CILINDRICA_LITRI, CONSUM_MEDIU_LITRI, ASPIRATIE)
VALUES (1008, 2, 120, 1.4, 6.5, 'Turbina');

INSERT INTO MOTOR_CARBURANT(ID_MOTOR, ID_CARBURANT, CAI_PUTERE, CAPACITATE_CILINDRICA_LITRI, CONSUM_MEDIU_LITRI, ASPIRATIE)
VALUES (1009, 4, 150, 1.6, 7.2, 'Turbina');

SELECT *
FROM MOTOR_CARBURANT;

-- TABEL MOTOR_ELECTRIC

-- CREARE TABEL MOTOR_ELECTRIC
CREATE TABLE MOTOR_ELECTRIC
(
    ID_MOTOR INT PRIMARY KEY,
    CAI_PUTERE INT,
    TIMP_INCARCARE_ORE NUMBER(4,3),
    AUTONOMIE_KM INT,
    FOREIGN KEY (ID_MOTOR) REFERENCES MOTOR(ID_MOTOR),
    CONSTRAINT CHECK_CAI_PUTERE_ELECTRIC CHECK (CAI_PUTERE > 0),
    CONSTRAINT CHECK_TIMP_INCARCARE_ORE CHECK (TIMP_INCARCARE_ORE > 0),
    CONSTRAINT CHECK_AUTONOMIE_KM CHECK (AUTONOMIE_KM > 0)
);

-- INSERARE INREGISTRARI IN TABEL MOTOR_ELECTRIC

INSERT INTO MOTOR_ELECTRIC(ID_MOTOR, CAI_PUTERE, TIMP_INCARCARE_ORE, AUTONOMIE_KM)
VALUES (1003, 45, 3.5, 200);

INSERT INTO MOTOR_ELECTRIC(ID_MOTOR, CAI_PUTERE, TIMP_INCARCARE_ORE, AUTONOMIE_KM)
VALUES (1004, 65, 5, 300);

INSERT INTO MOTOR_ELECTRIC(ID_MOTOR, CAI_PUTERE, TIMP_INCARCARE_ORE, AUTONOMIE_KM)
VALUES (1005, 85, 7, 400);

INSERT INTO MOTOR_ELECTRIC(ID_MOTOR, CAI_PUTERE, TIMP_INCARCARE_ORE, AUTONOMIE_KM)
VALUES (1006, 105, 8, 425);

INSERT INTO MOTOR_ELECTRIC(ID_MOTOR, CAI_PUTERE, TIMP_INCARCARE_ORE, AUTONOMIE_KM)
VALUES (1007, 125, 9, 450);

SELECT *
FROM MOTOR_ELECTRIC;

-- TABEL CAROSERIE

-- CREARE TABEL CAROSERIE
CREATE TABLE CAROSERIE
(
    ID_CAROSERIE INT PRIMARY KEY,
    NUME VARCHAR(30) DEFAULT 'Necunoscut',
    NR_USI INT DEFAULT 4,
    NR_LOCURI INT DEFAULT 5,
    VOLUM_PORTBAGAJ_LITRI INT DEFAULT 500,
    CONSTRAINT CHECK_NR_USI CHECK (NR_USI > 0),
    CONSTRAINT CHECK_NR_LOCURI CHECK (NR_LOCURI > 0),
    CONSTRAINT CHECK_VOLUM_PORTBAGAJ_LITRI CHECK (VOLUM_PORTBAGAJ_LITRI > 0)
);

-- INSERARE TABEL CAROSERIE

INSERT INTO CAROSERIE(ID_CAROSERIE, NUME, NR_USI, NR_LOCURI, VOLUM_PORTBAGAJ_LITRI)
VALUES (CAROSERIE_SEQUENCE.NEXTVAL, 'Sedan', 4, 5, 500);

INSERT INTO CAROSERIE(ID_CAROSERIE, NUME, NR_USI, NR_LOCURI, VOLUM_PORTBAGAJ_LITRI)
VALUES (CAROSERIE_SEQUENCE.NEXTVAL, 'Hatchback', 5, 5, 275);

INSERT INTO CAROSERIE(ID_CAROSERIE, NUME, NR_USI, NR_LOCURI, VOLUM_PORTBAGAJ_LITRI)
VALUES (CAROSERIE_SEQUENCE.NEXTVAL, 'SUV', 5, 5, 400);

INSERT INTO CAROSERIE(ID_CAROSERIE, NUME, NR_USI, NR_LOCURI, VOLUM_PORTBAGAJ_LITRI)
VALUES (CAROSERIE_SEQUENCE.NEXTVAL, 'Coupe', 2, 4, 250);

INSERT INTO CAROSERIE(ID_CAROSERIE, NUME, NR_USI, NR_LOCURI, VOLUM_PORTBAGAJ_LITRI)
VALUES (CAROSERIE_SEQUENCE.NEXTVAL, 'Pick-up', 2, 2, 1000);

INSERT INTO CAROSERIE(ID_CAROSERIE, NUME, NR_USI, NR_LOCURI, VOLUM_PORTBAGAJ_LITRI)
VALUES (CAROSERIE_SEQUENCE.NEXTVAL, 'Pick-up', 4, 5, 800);

SELECT *
FROM CAROSERIE;

-- TABEL ADRESA

-- CREARE TABEL ADRESA
CREATE TABLE ADRESA
(
    ID_ADRESA INT PRIMARY KEY,
    STRADA VARCHAR(30) DEFAULT 'Necunoscut',
    NR INT,
    ORAS VARCHAR(30) DEFAULT 'Necunoscut',
    CONSTRAINT CHECK_NR_ADRESA CHECK (NR > 0)
);

-- INSERARE INREGISTRARI IN TABEL ADRESA

INSERT INTO ADRESA(ID_ADRESA, STRADA, NR, ORAS)
VALUES (ADRESA_SEQUENCE.NEXTVAL, 'Sos. Colentina',33, 'Bucuresti');

INSERT INTO ADRESA(ID_ADRESA, STRADA, NR, ORAS)
VALUES (ADRESA_SEQUENCE.NEXTVAL, 'Str. Doamna Ghica', 12, 'Bucuresti');

INSERT INTO ADRESA(ID_ADRESA, STRADA, NR, ORAS)
VALUES (ADRESA_SEQUENCE.NEXTVAL, 'Blv. Carol I', 3, 'Campina');

INSERT INTO ADRESA(ID_ADRESA, STRADA, NR, ORAS)
VALUES (ADRESA_SEQUENCE.NEXTVAL, 'Str. Fabrica de gheata', 5, 'Bucuresti');

INSERT INTO ADRESA(ID_ADRESA, STRADA, NR, ORAS)
VALUES (ADRESA_SEQUENCE.NEXTVAL, 'Str. Fabrica de glucoza', 7, 'Bucuresti');

SELECT *
FROM ADRESA;

-- TABEL SHOWROOM

-- CREARE TABEL SHOWROOM
CREATE TABLE SHOWROOM
(
    ID_SHOWROOM INT PRIMARY KEY,
    NUME VARCHAR(30) DEFAULT 'Necunoscut',
    ID_ADRESA INT,
    FOREIGN KEY (ID_ADRESA) REFERENCES ADRESA(ID_ADRESA)
);

-- INSERARE TABEL SHOWROOM

INSERT INTO SHOWROOM(ID_SHOWROOM, NUME, ID_ADRESA)
VALUES (SHOWROOM_SEQUENCE.NEXTVAL, 'Dacia Colentina', 1);

INSERT INTO SHOWROOM(ID_SHOWROOM, NUME, ID_ADRESA)
VALUES (SHOWROOM_SEQUENCE.NEXTVAL, 'Dacia Campina', 3);

INSERT INTO SHOWROOM(ID_SHOWROOM, NUME, ID_ADRESA)
VALUES (SHOWROOM_SEQUENCE.NEXTVAL, 'Dacia Fabrica de gheata', 4);

INSERT INTO SHOWROOM(ID_SHOWROOM, NUME, ID_ADRESA)
VALUES (SHOWROOM_SEQUENCE.NEXTVAL, 'Dacia Fabrica de glucoza', 5);

INSERT INTO SHOWROOM(ID_SHOWROOM, NUME, ID_ADRESA)
VALUES (SHOWROOM_SEQUENCE.NEXTVAL, 'Dacia Doamna Ghica', 2);

SELECT *
FROM SHOWROOM;

-- TABEL SHOWROOM_NUMERE_TELEFON

-- CREARE TABEL SHOWROOM_NUMERE_TELEFON
CREATE TABLE SHOWROOM_NUMERE_TELEFON
(
    ID_NUMAR INT PRIMARY KEY,
    ID_SHOWROOM_NUMAR_TELEFON INT,
    NR_TELEFON VARCHAR(30),
    CONSTRAINT CHECK_NR_TELEFON_SHOWROOM CHECK
        (
            REGEXP_LIKE(NR_TELEFON, '^07[0-9]{2} [0-9]{3} [0-9]{3}$')
        ),
    FOREIGN KEY (ID_SHOWROOM_NUMAR_TELEFON) REFERENCES SHOWROOM(ID_SHOWROOM)
);

-- INSERARE TABEL SHOWROOM_NUMERE_TELEFON

INSERT INTO SHOWROOM_NUMERE_TELEFON(ID_NUMAR, ID_SHOWROOM_NUMAR_TELEFON, NR_TELEFON)
VALUES (SHOWROOM_NUMERE_TELEFON_SEQUENCE.NEXTVAL, 1, '0700 000 001');

INSERT INTO SHOWROOM_NUMERE_TELEFON(ID_NUMAR, ID_SHOWROOM_NUMAR_TELEFON, NR_TELEFON)
VALUES (SHOWROOM_NUMERE_TELEFON_SEQUENCE.NEXTVAL, 1, '0700 000 002');

INSERT INTO SHOWROOM_NUMERE_TELEFON(ID_NUMAR, ID_SHOWROOM_NUMAR_TELEFON, NR_TELEFON)
VALUES (SHOWROOM_NUMERE_TELEFON_SEQUENCE.NEXTVAL, 2, '0700 000 003');

INSERT INTO SHOWROOM_NUMERE_TELEFON(ID_NUMAR, ID_SHOWROOM_NUMAR_TELEFON, NR_TELEFON)
VALUES (SHOWROOM_NUMERE_TELEFON_SEQUENCE.NEXTVAL, 3, '0700 000 011');

INSERT INTO SHOWROOM_NUMERE_TELEFON(ID_NUMAR, ID_SHOWROOM_NUMAR_TELEFON, NR_TELEFON)
VALUES (SHOWROOM_NUMERE_TELEFON_SEQUENCE.NEXTVAL, 4, '0700 000 012');

INSERT INTO SHOWROOM_NUMERE_TELEFON(ID_NUMAR, ID_SHOWROOM_NUMAR_TELEFON, NR_TELEFON)
VALUES (SHOWROOM_NUMERE_TELEFON_SEQUENCE.NEXTVAL, 5, '0700 000 013');

SELECT *
FROM SHOWROOM_NUMERE_TELEFON;

-- TABEL VEHICUL

-- CREARE TABEL VEHICUL
CREATE TABLE VEHICUL
(
    ID_VEHICUL INT PRIMARY KEY,
    ID_SHOWROOM INT,
    ID_CAROSERIE INT,
    ID_MOTOR INT,
    MARCA VARCHAR(30) DEFAULT 'Necunoscut',
    MODEL VARCHAR(30) DEFAULT 'Necunoscut',
    AN_FABRICATIE INT DEFAULT 2024,
    PRET NUMBER(10,2),
    FOREIGN KEY (ID_SHOWROOM) REFERENCES SHOWROOM(ID_SHOWROOM),
    FOREIGN KEY (ID_CAROSERIE) REFERENCES CAROSERIE(ID_CAROSERIE),
    FOREIGN KEY (ID_MOTOR) REFERENCES MOTOR(ID_MOTOR),
    CONSTRAINT CHECK_AN_FABRICATIE CHECK (AN_FABRICATIE > 0),
    CONSTRAINT CHECK_PRET CHECK (PRET > 0)
);

-- INSERARE TABEL VEHICUL

INSERT INTO VEHICUL(ID_VEHICUL, ID_SHOWROOM, ID_CAROSERIE, ID_MOTOR, MARCA, MODEL, AN_FABRICATIE, PRET)
VALUES (VEHICUL_SEQUENCE.NEXTVAL, 1, 1, 1000, 'Dacia', 'Logan', 2024, 12250);

INSERT INTO VEHICUL(ID_VEHICUL, ID_SHOWROOM, ID_CAROSERIE, ID_MOTOR, MARCA, MODEL, AN_FABRICATIE, PRET)
VALUES (VEHICUL_SEQUENCE.NEXTVAL, 1, 1, 1001, 'Dacia', 'Logan', 2024, 13250);

INSERT INTO VEHICUL(ID_VEHICUL, ID_SHOWROOM, ID_CAROSERIE, ID_MOTOR, MARCA, MODEL, AN_FABRICATIE, PRET)
VALUES (VEHICUL_SEQUENCE.NEXTVAL, 1, 2, 1001, 'Dacia', 'Sandero', 2023, 9500);

INSERT INTO VEHICUL(ID_VEHICUL, ID_SHOWROOM, ID_CAROSERIE, ID_MOTOR, MARCA, MODEL, AN_FABRICATIE, PRET)
VALUES (VEHICUL_SEQUENCE.NEXTVAL, 1, 3, 1003, 'Dacia', 'Duster', 2024, 16000);

INSERT INTO VEHICUL(ID_VEHICUL, ID_SHOWROOM, ID_CAROSERIE, ID_MOTOR, MARCA, MODEL, AN_FABRICATIE, PRET)
VALUES (VEHICUL_SEQUENCE.NEXTVAL, 1, 5, 1000, 'Dacia', 'Pick-up', 2020, 7000);

INSERT INTO VEHICUL(ID_VEHICUL, ID_SHOWROOM, ID_CAROSERIE, ID_MOTOR, MARCA, MODEL, AN_FABRICATIE, PRET)
VALUES (VEHICUL_SEQUENCE.NEXTVAL, 1, 2, 1004, 'Dacia', 'Spring', 2024, 8750);


INSERT INTO VEHICUL(ID_VEHICUL, ID_SHOWROOM, ID_CAROSERIE, ID_MOTOR, MARCA, MODEL, AN_FABRICATIE, PRET)
VALUES (VEHICUL_SEQUENCE.NEXTVAL, 2, 1, 1000, 'Dacia', 'Logan', 2024, 13000);

INSERT INTO VEHICUL(ID_VEHICUL, ID_SHOWROOM, ID_CAROSERIE, ID_MOTOR, MARCA, MODEL, AN_FABRICATIE, PRET)
VALUES (VEHICUL_SEQUENCE.NEXTVAL, 2, 1, 1000, 'Dacia', 'Logan', 2024, 13000);

INSERT INTO VEHICUL(ID_VEHICUL, ID_SHOWROOM, ID_CAROSERIE, ID_MOTOR, MARCA, MODEL, AN_FABRICATIE, PRET)
VALUES (VEHICUL_SEQUENCE.NEXTVAL, 2, 2, 1000, 'Dacia', 'Sandero', 2024, 10000);

INSERT INTO VEHICUL(ID_VEHICUL, ID_SHOWROOM, ID_CAROSERIE, ID_MOTOR, MARCA, MODEL, AN_FABRICATIE, PRET)
VALUES (VEHICUL_SEQUENCE.NEXTVAL, 2, 5, 1001, 'Dacia', 'Pick-up', 2021, 8000);

INSERT INTO VEHICUL(ID_VEHICUL, ID_SHOWROOM, ID_CAROSERIE, ID_MOTOR, MARCA, MODEL, AN_FABRICATIE, PRET)
VALUES (VEHICUL_SEQUENCE.NEXTVAL, 2, 5, 1002, 'Dacia', 'Pick-up', 2022, 8500);

INSERT INTO VEHICUL(ID_VEHICUL, ID_SHOWROOM, ID_CAROSERIE, ID_MOTOR, MARCA, MODEL, AN_FABRICATIE, PRET)
VALUES (VEHICUL_SEQUENCE.NEXTVAL, 2, 2, 1003, 'Dacia', 'Spring', 2024, 8500);

SELECT *
FROM VEHICUL;

-- TABEL ANGAJAT_SHOWROOM

-- CREARE TABEL ANGAJAT_SHOWROOM
CREATE TABLE ANGAJAT_SHOWROOM
(
    ID_ANGAJAT INT PRIMARY KEY,
    ID_SHOWROOM INT,
    NUME VARCHAR(30) DEFAULT 'Necunoscut',
    DATA_ANGAJARE DATE DEFAULT SYSDATE,
    SALARIU NUMBER(10,2),
    FOREIGN KEY (ID_SHOWROOM) REFERENCES SHOWROOM(ID_SHOWROOM),
    CONSTRAINT CHECK_SALARIU CHECK (SALARIU > 0)
);

-- INSERARE INREGISTRARI IN TABEL ANGAJAT_SHOWROOM

--SHOWROOM 1
INSERT INTO ANGAJAT_SHOWROOM(ID_ANGAJAT, ID_SHOWROOM, NUME, DATA_ANGAJARE, SALARIU)
VALUES (ANGAJAT_SHOWROOM_SEQUENCE.NEXTVAL, 1, 'Vanzatorul Ion ', TO_DATE('01-01-2024', 'DD-MM-YYYY'), 2500);

INSERT INTO ANGAJAT_SHOWROOM(ID_ANGAJAT, ID_SHOWROOM, NUME, DATA_ANGAJARE, SALARIU)
VALUES (ANGAJAT_SHOWROOM_SEQUENCE.NEXTVAL, 1, 'Vanzatorul Vasile', TO_DATE('05-01-2024', 'DD-MM-YYYY'), 2600);

INSERT INTO ANGAJAT_SHOWROOM(ID_ANGAJAT, ID_SHOWROOM, NUME, DATA_ANGAJARE, SALARIU)
VALUES (ANGAJAT_SHOWROOM_SEQUENCE.NEXTVAL, 1, 'Vanzatorul Mirel', TO_DATE('10-01-2024', 'DD-MM-YYYY'), 2700);

INSERT INTO ANGAJAT_SHOWROOM(ID_ANGAJAT, ID_SHOWROOM, NUME, DATA_ANGAJARE, SALARIU)
VALUES (ANGAJAT_SHOWROOM_SEQUENCE.NEXTVAL, 1, 'Vanzatorul Costica', TO_DATE('15-01-2024', 'DD-MM-YYYY'), 2600);

INSERT INTO ANGAJAT_SHOWROOM(ID_ANGAJAT, ID_SHOWROOM, NUME, DATA_ANGAJARE, SALARIU)
VALUES (ANGAJAT_SHOWROOM_SEQUENCE.NEXTVAL, 1, 'Mecanicul Cornel', TO_DATE('15-01-2024', 'DD-MM-YYYY'), 3000);

INSERT INTO ANGAJAT_SHOWROOM(ID_ANGAJAT, ID_SHOWROOM, NUME, DATA_ANGAJARE, SALARIU)
VALUES (ANGAJAT_SHOWROOM_SEQUENCE.NEXTVAL, 1, 'Mecanicul Gheorghe', TO_DATE('20-01-2024', 'DD-MM-YYYY'), 3100);

INSERT INTO ANGAJAT_SHOWROOM(ID_ANGAJAT, ID_SHOWROOM, NUME, DATA_ANGAJARE, SALARIU)
VALUES (ANGAJAT_SHOWROOM_SEQUENCE.NEXTVAL, 1, 'Mecanicul Ionel', TO_DATE('25-01-2024', 'DD-MM-YYYY'), 3000);

INSERT INTO ANGAJAT_SHOWROOM(ID_ANGAJAT, ID_SHOWROOM, NUME, DATA_ANGAJARE, SALARIU)
VALUES (ANGAJAT_SHOWROOM_SEQUENCE.NEXTVAL, 1, 'Mecanicul Vasilica', TO_DATE('30-01-2024', 'DD-MM-YYYY'), 3100);

--SHOWROOM 2
INSERT INTO ANGAJAT_SHOWROOM(ID_ANGAJAT, ID_SHOWROOM, NUME, DATA_ANGAJARE, SALARIU)
VALUES (ANGAJAT_SHOWROOM_SEQUENCE.NEXTVAL, 2, 'Vanzatorul Andrei', TO_DATE('11-05-1992', 'DD-MM-YYYY'), 2400);

INSERT INTO ANGAJAT_SHOWROOM(ID_ANGAJAT, ID_SHOWROOM, NUME, DATA_ANGAJARE, SALARIU)
VALUES (ANGAJAT_SHOWROOM_SEQUENCE.NEXTVAL, 2, 'Vanzatorul Mihai', TO_DATE('15-05-1992', 'DD-MM-YYYY'), 2500);

INSERT INTO ANGAJAT_SHOWROOM(ID_ANGAJAT, ID_SHOWROOM, NUME, DATA_ANGAJARE, SALARIU)
VALUES (ANGAJAT_SHOWROOM_SEQUENCE.NEXTVAL, 2, 'Vanzatorul Iustin', TO_DATE('20-05-1992', 'DD-MM-YYYY'), 2600);

INSERT INTO ANGAJAT_SHOWROOM(ID_ANGAJAT, ID_SHOWROOM, NUME, DATA_ANGAJARE, SALARIU)
VALUES (ANGAJAT_SHOWROOM_SEQUENCE.NEXTVAL, 2, 'Mecanicul Doru', TO_DATE('01-01-1993', 'DD-MM-YYYY'), 2650);

INSERT INTO ANGAJAT_SHOWROOM(ID_ANGAJAT, ID_SHOWROOM, NUME, DATA_ANGAJARE, SALARIU)
VALUES (ANGAJAT_SHOWROOM_SEQUENCE.NEXTVAL, 2, 'Mecanicul Ionut', TO_DATE('05-01-1993', 'DD-MM-YYYY'), 2700);

INSERT INTO ANGAJAT_SHOWROOM(ID_ANGAJAT, ID_SHOWROOM, NUME, DATA_ANGAJARE, SALARIU)
VALUES (ANGAJAT_SHOWROOM_SEQUENCE.NEXTVAL, 2, 'Mecanicul Bogdan', TO_DATE('15-01-1993', 'DD-MM-YYYY'), 2675);

INSERT INTO ANGAJAT_SHOWROOM(ID_ANGAJAT, ID_SHOWROOM, NUME, DATA_ANGAJARE, SALARIU)
VALUES (ANGAJAT_SHOWROOM_SEQUENCE.NEXTVAL, 2, 'Mecanicul Gigi', TO_DATE('20-01-1993', 'DD-MM-YYYY'), 2700);

SELECT *
FROM ANGAJAT_SHOWROOM;

-- TABEL MECANIC

-- CREARE TABEL MECANIC
CREATE TABLE MECANIC
(
    ID_ANGAJAT INT PRIMARY KEY,
    ID_SPECIALIZARE INT,
    FOREIGN KEY (ID_ANGAJAT) REFERENCES ANGAJAT_SHOWROOM(ID_ANGAJAT),
    FOREIGN KEY (ID_SPECIALIZARE) REFERENCES MOTOR(ID_MOTOR)
);

-- INSERARE INREGISTRARI IN TABEL MECANIC

INSERT INTO MECANIC(ID_ANGAJAT, ID_SPECIALIZARE)
VALUES (5, 1000);

INSERT INTO MECANIC(ID_ANGAJAT, ID_SPECIALIZARE)
VALUES (6, 1001);

INSERT INTO MECANIC(ID_ANGAJAT, ID_SPECIALIZARE)
VALUES (7, 1003);

INSERT INTO MECANIC(ID_ANGAJAT, ID_SPECIALIZARE)
VALUES (8, 1004);


INSERT INTO MECANIC(ID_ANGAJAT, ID_SPECIALIZARE)
VALUES (12, 1000);

INSERT INTO MECANIC(ID_ANGAJAT, ID_SPECIALIZARE)
VALUES (13, 1001);

INSERT INTO MECANIC(ID_ANGAJAT, ID_SPECIALIZARE)
VALUES (14, 1002);

INSERT INTO MECANIC(ID_ANGAJAT, ID_SPECIALIZARE)
VALUES (15, 1003);

SELECT *
FROM MECANIC;

-- TABEL VANZATOR

-- CREARE TABEL VANZATOR
CREATE TABLE VANZATOR
(
    ID_ANGAJAT INT PRIMARY KEY,
    ID_SPECIALIZARE INT,
    FOREIGN KEY (ID_ANGAJAT) REFERENCES ANGAJAT_SHOWROOM(ID_ANGAJAT),
    FOREIGN KEY (ID_SPECIALIZARE) REFERENCES CAROSERIE(ID_CAROSERIE)
);

-- INSERARE INREGISTRARI IN TABEL VANZATOR

INSERT INTO VANZATOR(ID_ANGAJAT, ID_SPECIALIZARE)
VALUES (1, 1);

INSERT INTO VANZATOR(ID_ANGAJAT, ID_SPECIALIZARE)
VALUES (2, 2);

INSERT INTO VANZATOR(ID_ANGAJAT, ID_SPECIALIZARE)
VALUES (3, 3);

INSERT INTO VANZATOR(ID_ANGAJAT, ID_SPECIALIZARE)
VALUES (4, 5);

INSERT INTO VANZATOR(ID_ANGAJAT, ID_SPECIALIZARE)
VALUES (9,1);

INSERT INTO VANZATOR(ID_ANGAJAT, ID_SPECIALIZARE)
VALUES (10,2);

INSERT INTO VANZATOR(ID_ANGAJAT, ID_SPECIALIZARE)
VALUES (11,5);

SELECT *
FROM VANZATOR;

-- TABEL CLIENT

-- CREARE TABEL CLIENT
CREATE TABLE CLIENT
(
    ID_CLIENT INT PRIMARY KEY,
    NUME VARCHAR(30)
);

-- INSERARE INREGISTRARI IN TABEL CLIENT

INSERT INTO CLIENT(ID_CLIENT, NUME)
VALUES (CLIENT_SEQUENCE.NEXTVAL, 'Andrei Popescu');

INSERT INTO CLIENT(ID_CLIENT, NUME)
VALUES (CLIENT_SEQUENCE.NEXTVAL, 'Vasile Grigorescu');

INSERT INTO CLIENT(ID_CLIENT, NUME)
VALUES (CLIENT_SEQUENCE.NEXTVAL, 'George Costel');

INSERT INTO CLIENT(ID_CLIENT, NUME)
VALUES (CLIENT_SEQUENCE.NEXTVAL, 'David Andrei');

INSERT INTO CLIENT(ID_CLIENT, NUME)
VALUES (CLIENT_SEQUENCE.NEXTVAL, 'Ionut Matei');

INSERT INTO CLIENT(ID_CLIENT, NUME)
VALUES (CLIENT_SEQUENCE.NEXTVAL, 'Robert Oraseanu');

SELECT *
FROM CLIENT;

-- TABEL CLIENT_NUMERE_TELEFON

-- CREARE TABEL CLIENT_NUMERE_TELEFON
CREATE TABLE CLIENT_NUMERE_TELEFON
(
    ID_NUMAR INT PRIMARY KEY,
    ID_CLIENT_NR_TELEFON INT,
    NR_TELEFON VARCHAR(30),
    CONSTRAINT CHECK_NR_TELEFON_CLIENTI CHECK
    (
        REGEXP_LIKE(NR_TELEFON, '^07[0-9]{2} [0-9]{3} [0-9]{3}$')
    ),
    FOREIGN KEY (ID_CLIENT_NR_TELEFON) REFERENCES CLIENT(ID_CLIENT)
);

-- INSERARE INREGISTRARI IN TABEL CLIENT_NUMERE_TELEFON

INSERT INTO CLIENT_NUMERE_TELEFON(ID_NUMAR, ID_CLIENT_NR_TELEFON, NR_TELEFON)
VALUES (CLIENT_NUMERE_TELEFON_SEQUENCE.NEXTVAL, 1, '0700 000 004');

INSERT INTO CLIENT_NUMERE_TELEFON(ID_NUMAR, ID_CLIENT_NR_TELEFON, NR_TELEFON)
VALUES (CLIENT_NUMERE_TELEFON_SEQUENCE.NEXTVAL, 1, '0700 000 005');

INSERT INTO CLIENT_NUMERE_TELEFON(ID_NUMAR, ID_CLIENT_NR_TELEFON, NR_TELEFON)
VALUES (CLIENT_NUMERE_TELEFON_SEQUENCE.NEXTVAL, 2, '0700 000 006');

INSERT INTO CLIENT_NUMERE_TELEFON(ID_NUMAR, ID_CLIENT_NR_TELEFON, NR_TELEFON)
VALUES (CLIENT_NUMERE_TELEFON_SEQUENCE.NEXTVAL, 3, '0700 000 007');

INSERT INTO CLIENT_NUMERE_TELEFON(ID_NUMAR, ID_CLIENT_NR_TELEFON, NR_TELEFON)
VALUES (CLIENT_NUMERE_TELEFON_SEQUENCE.NEXTVAL, 4, '0700 000 008');

INSERT INTO CLIENT_NUMERE_TELEFON(ID_NUMAR, ID_CLIENT_NR_TELEFON, NR_TELEFON)
VALUES (CLIENT_NUMERE_TELEFON_SEQUENCE.NEXTVAL, 5, '0700 000 009');

INSERT INTO CLIENT_NUMERE_TELEFON(ID_NUMAR, ID_CLIENT_NR_TELEFON, NR_TELEFON)
VALUES (CLIENT_NUMERE_TELEFON_SEQUENCE.NEXTVAL, 6, '0700 000 010');

SELECT *
FROM CLIENT_NUMERE_TELEFON;

-- TABEL VEHICUL_DETINUT_CLIENT

-- CREARE TABEL VEHICUL_DETINUT_CLIENT
CREATE TABLE VEHICUL_DETINUT_CLIENT
(
    ID_VEHICUL INT PRIMARY KEY,
    ID_CLIENT INT,
    ID_CAROSERIE INT,
    ID_MOTOR INT,
    MARCA VARCHAR(30) DEFAULT 'Necunoscut',
    MODEL VARCHAR(30) DEFAULT 'Necunoscut',
    AN_FABRICATIE INT,
    NUMAR_INMATRICULARE VARCHAR(30) UNIQUE,
    FOREIGN KEY (ID_CLIENT) REFERENCES CLIENT(ID_CLIENT),
    FOREIGN KEY (ID_CAROSERIE) REFERENCES CAROSERIE(ID_CAROSERIE),
    FOREIGN KEY (ID_MOTOR) REFERENCES MOTOR(ID_MOTOR),
    CONSTRAINT CHECK_AN_FABRICATIE_VEHICUL_DETINUT_CLIENT CHECK (AN_FABRICATIE > 0),
    CONSTRAINT CHECK_NUMAR_INAMTRICULARE CHECK
    (
        REGEXP_LIKE(NUMAR_INMATRICULARE, '^(AB|AR|AG|B|BC|BH|BN|BR|BZ|CS|CL|CJ|CT|CV|DB|DJ|GL|GR|GJ|HR|HD|IL|IS|IF|MM|MH|MS|NT|OT|PH|SM|SJ|SB|SV|TR|TM|TL|VS|VL|VN|CD|CO|TC) [0-9]{2,3} [A-Z]{3}$')
    )
);

-- INSERARE INREGISTRARI IN TABEL VEHICUL_DETINUT_CLIENT

INSERT INTO VEHICUL_DETINUT_CLIENT(ID_VEHICUL, ID_CLIENT, ID_CAROSERIE, ID_MOTOR, MARCA, MODEL, AN_FABRICATIE, NUMAR_INMATRICULARE)
VALUES (VEHICUL_DETINUT_CLIENT_SEQUENCE.NEXTVAL, 1, 1, 1000, 'Dacia', 'Logan', 2020, 'B 123 ABC');

INSERT INTO VEHICUL_DETINUT_CLIENT(ID_VEHICUL, ID_CLIENT, ID_CAROSERIE, ID_MOTOR, MARCA, MODEL, AN_FABRICATIE, NUMAR_INMATRICULARE)
VALUES (VEHICUL_DETINUT_CLIENT_SEQUENCE.NEXTVAL, 1, 2, 1001, 'Dacia', 'Sandero', 2023, 'B 124 ABC');

INSERT INTO VEHICUL_DETINUT_CLIENT(ID_VEHICUL, ID_CLIENT, ID_CAROSERIE, ID_MOTOR, MARCA, MODEL, AN_FABRICATIE, NUMAR_INMATRICULARE)
VALUES (VEHICUL_DETINUT_CLIENT_SEQUENCE.NEXTVAL, 2, 3, 1001, 'Dacia', 'Duster', 2020, 'B 125 ABC');

INSERT INTO VEHICUL_DETINUT_CLIENT(ID_VEHICUL, ID_CLIENT, ID_CAROSERIE, ID_MOTOR, MARCA, MODEL, AN_FABRICATIE, NUMAR_INMATRICULARE)
VALUES (VEHICUL_DETINUT_CLIENT_SEQUENCE.NEXTVAL, 2, 3, 1003, 'Dacia', 'Duster', 2021, 'B 126 ABC');

INSERT INTO VEHICUL_DETINUT_CLIENT(ID_VEHICUL, ID_CLIENT, ID_CAROSERIE, ID_MOTOR, MARCA, MODEL, AN_FABRICATIE, NUMAR_INMATRICULARE)
VALUES (VEHICUL_DETINUT_CLIENT_SEQUENCE.NEXTVAL, 2, 5, 1003, 'Dacia', 'Pick-up', 2021, 'B 127 ABC');

INSERT INTO VEHICUL_DETINUT_CLIENT(ID_VEHICUL, ID_CLIENT, ID_CAROSERIE, ID_MOTOR, MARCA, MODEL, AN_FABRICATIE, NUMAR_INMATRICULARE)
VALUES (VEHICUL_DETINUT_CLIENT_SEQUENCE.NEXTVAL, 3, 1, 1000, 'Dacia', 'Logan', 2020, 'B 128 ABC');

INSERT INTO VEHICUL_DETINUT_CLIENT(ID_VEHICUL, ID_CLIENT, ID_CAROSERIE, ID_MOTOR, MARCA, MODEL, AN_FABRICATIE, NUMAR_INMATRICULARE)
VALUES (VEHICUL_DETINUT_CLIENT_SEQUENCE.NEXTVAL, 4, 2, 1004, 'Dacia', 'Spring', 2024, 'B 129 ABC');


INSERT INTO VEHICUL_DETINUT_CLIENT(ID_VEHICUL, ID_CLIENT, ID_CAROSERIE, ID_MOTOR, MARCA, MODEL, AN_FABRICATIE, NUMAR_INMATRICULARE)
VALUES (VEHICUL_DETINUT_CLIENT_SEQUENCE.NEXTVAL, 5, 2, 1000, 'Dacia', 'Sandero', 2020, 'PH 123 ABC');

INSERT INTO VEHICUL_DETINUT_CLIENT(ID_VEHICUL, ID_CLIENT, ID_CAROSERIE, ID_MOTOR, MARCA, MODEL, AN_FABRICATIE, NUMAR_INMATRICULARE)
VALUES (VEHICUL_DETINUT_CLIENT_SEQUENCE.NEXTVAL, 6, 2, 1001, 'Dacia', 'Sandero', 2023, 'PH 124 ABC');

INSERT INTO VEHICUL_DETINUT_CLIENT(ID_VEHICUL, ID_CLIENT, ID_CAROSERIE, ID_MOTOR, MARCA, MODEL, AN_FABRICATIE, NUMAR_INMATRICULARE)
VALUES (VEHICUL_DETINUT_CLIENT_SEQUENCE.NEXTVAL, 6, 5, 1002, 'Dacia', 'Pick-up', 2020, 'PH 125 ABC');

SELECT *
FROM VEHICUL_DETINUT_CLIENT;

-- TABEL PLATA

-- CREARE TABEL PLATA
CREATE TABLE PLATA
(
    ID_PLATA INT PRIMARY KEY,
    ID_CLIENT INT,
    SUMA NUMBER(10,2),
    FOREIGN KEY (ID_CLIENT) REFERENCES CLIENT(ID_CLIENT),
    CONSTRAINT CHECK_SUMA CHECK (SUMA > 0)
);

-- INSERARE INREGISTRARI IN TABEL PLATA

-- PLATI ACHIZITIONAR VEHICUL
INSERT INTO PLATA(ID_PLATA, ID_CLIENT, SUMA)
VALUES (PLATA_SEQUENCE.NEXTVAL, 1, 12250);

INSERT INTO PLATA(ID_PLATA, ID_CLIENT, SUMA)
VALUES (PLATA_SEQUENCE.NEXTVAL, 1, 9500);

INSERT INTO PLATA(ID_PLATA, ID_CLIENT, SUMA)
VALUES (PLATA_SEQUENCE.NEXTVAL, 2, 16000);

INSERT INTO PLATA(ID_PLATA, ID_CLIENT, SUMA)
VALUES (PLATA_SEQUENCE.NEXTVAL, 2, 16000);

INSERT INTO PLATA(ID_PLATA, ID_CLIENT, SUMA)
VALUES (PLATA_SEQUENCE.NEXTVAL, 2, 7000);

INSERT INTO PLATA(ID_PLATA, ID_CLIENT, SUMA)
VALUES (PLATA_SEQUENCE.NEXTVAL, 3, 13250);

INSERT INTO PLATA(ID_PLATA, ID_CLIENT, SUMA)
VALUES (PLATA_SEQUENCE.NEXTVAL, 4, 8750);

INSERT INTO PLATA(ID_PLATA, ID_CLIENT, SUMA)
VALUES (PLATA_SEQUENCE.NEXTVAL, 5, 10000);

INSERT INTO PLATA(ID_PLATA, ID_CLIENT, SUMA)
VALUES (PLATA_SEQUENCE.NEXTVAL, 6, 10000);

INSERT INTO PLATA(ID_PLATA, ID_CLIENT, SUMA)
VALUES (PLATA_SEQUENCE.NEXTVAL, 6, 8000);

-- PLATI SERVICE
INSERT INTO PLATA(ID_PLATA, ID_CLIENT, SUMA)
VALUES (PLATA_SEQUENCE.NEXTVAL, 1, 350);

INSERT INTO PLATA(ID_PLATA, ID_CLIENT, SUMA)
VALUES (PLATA_SEQUENCE.NEXTVAL, 1, 200);

INSERT INTO PLATA(ID_PLATA, ID_CLIENT, SUMA)
VALUES (PLATA_SEQUENCE.NEXTVAL, 2, 950);

INSERT INTO PLATA(ID_PLATA, ID_CLIENT, SUMA)
VALUES (PLATA_SEQUENCE.NEXTVAL, 2, 2300);

INSERT INTO PLATA(ID_PLATA, ID_CLIENT, SUMA)
VALUES (PLATA_SEQUENCE.NEXTVAL, 2, 95);

INSERT INTO PLATA(ID_PLATA, ID_CLIENT, SUMA)
VALUES (PLATA_SEQUENCE.NEXTVAL, 3, 320);

INSERT INTO PLATA(ID_PLATA, ID_CLIENT, SUMA)
VALUES (PLATA_SEQUENCE.NEXTVAL, 4, 499);

INSERT INTO PLATA(ID_PLATA, ID_CLIENT, SUMA)
VALUES (PLATA_SEQUENCE.NEXTVAL, 5, 3870);

INSERT INTO PLATA(ID_PLATA, ID_CLIENT, SUMA)
VALUES (PLATA_SEQUENCE.NEXTVAL, 6, 99);

INSERT INTO PLATA(ID_PLATA, ID_CLIENT, SUMA)
VALUES (PLATA_SEQUENCE.NEXTVAL, 6, 870);

SELECT *
FROM PLATA;

-- TABEL TRANZACTIE

-- CREARE TABEL TRANZACTIE
CREATE TABLE TRANZACTIE
(
    ID_TRANZACTIE INT PRIMARY KEY,
    ID_CLIENT INT,
    ID_PLATA INT,
    ID_VEHICUL INT,
    ID_ANGAJAT INT,
    DATA_TRANZACTIE DATE DEFAULT SYSDATE,
    SUMA NUMBER(10,2),
    FOREIGN KEY (ID_CLIENT) REFERENCES CLIENT(ID_CLIENT),
    FOREIGN KEY (ID_PLATA) REFERENCES PLATA(ID_PLATA),
    FOREIGN KEY (ID_VEHICUL) REFERENCES VEHICUL_DETINUT_CLIENT(ID_VEHICUL),
    FOREIGN KEY (ID_ANGAJAT) REFERENCES VANZATOR(ID_ANGAJAT),
    CONSTRAINT CHECK_SUMA_TRANZACTIE CHECK (SUMA > 0)

-- DE VERIFICAT

--     CONSTRAINT CHECK_VANZATOR_TRANZACTIE CHECK
--         (
--             (
--             SELECT
--                 ID_SPECIALIZARE
--             FROM VANZATOR V
--             WHERE V.ID_ANGAJAT = TRANZACTIE.ID_ANGAJAT
--             )
--             =
--             (
--             SELECT
--                 ID_CAROSERIE
--             FROM VEHICUL_DETINUT_CLIENT VDC
--             WHERE VDC.ID_VEHICUL = TRANZACTIE.ID_VEHICUL
--             )
--         )

);

-- INSERARE INREGISTRARI IN TABEL TRANZACTIE

INSERT INTO TRANZACTIE(ID_TRANZACTIE, ID_CLIENT, ID_PLATA, ID_VEHICUL, ID_ANGAJAT, DATA_TRANZACTIE, SUMA)
VALUES (TRANZACTIE_SEQUENCE.NEXTVAL, 1, 1, 1000000, 1, TO_DATE('01-01-2024', 'DD-MM-YYYY'), 12250);

INSERT INTO TRANZACTIE(ID_TRANZACTIE, ID_CLIENT, ID_PLATA, ID_VEHICUL, ID_ANGAJAT, DATA_TRANZACTIE, SUMA)
VALUES (TRANZACTIE_SEQUENCE.NEXTVAL, 1, 2, 1000010, 2, TO_DATE('05-01-2024', 'DD-MM-YYYY'), 9500);

INSERT INTO TRANZACTIE(ID_TRANZACTIE, ID_CLIENT, ID_PLATA, ID_VEHICUL, ID_ANGAJAT, DATA_TRANZACTIE, SUMA)
VALUES (TRANZACTIE_SEQUENCE.NEXTVAL, 2, 3, 1000020, 3, TO_DATE('10-01-2024', 'DD-MM-YYYY'), 16000);

INSERT INTO TRANZACTIE(ID_TRANZACTIE, ID_CLIENT, ID_PLATA, ID_VEHICUL, ID_ANGAJAT, DATA_TRANZACTIE, SUMA)
VALUES (TRANZACTIE_SEQUENCE.NEXTVAL, 2, 4, 1000030, 3, TO_DATE('15-01-2024', 'DD-MM-YYYY'), 16000);

INSERT INTO TRANZACTIE(ID_TRANZACTIE, ID_CLIENT, ID_PLATA, ID_VEHICUL, ID_ANGAJAT, DATA_TRANZACTIE, SUMA)
VALUES (TRANZACTIE_SEQUENCE.NEXTVAL, 2, 5, 1000040, 4, TO_DATE('20-01-2024', 'DD-MM-YYYY'), 7000);

INSERT INTO TRANZACTIE(ID_TRANZACTIE, ID_CLIENT, ID_PLATA, ID_VEHICUL, ID_ANGAJAT, DATA_TRANZACTIE, SUMA)
VALUES (TRANZACTIE_SEQUENCE.NEXTVAL, 3, 6, 1000050, 1, TO_DATE('25-01-2024', 'DD-MM-YYYY'), 13250);

INSERT INTO TRANZACTIE(ID_TRANZACTIE, ID_CLIENT, ID_PLATA, ID_VEHICUL, ID_ANGAJAT, DATA_TRANZACTIE, SUMA)
VALUES (TRANZACTIE_SEQUENCE.NEXTVAL, 4, 7, 1000060, 2, TO_DATE('30-01-2024', 'DD-MM-YYYY'), 8750);


INSERT INTO TRANZACTIE(ID_TRANZACTIE, ID_CLIENT, ID_PLATA, ID_VEHICUL, ID_ANGAJAT, DATA_TRANZACTIE, SUMA)
VALUES (TRANZACTIE_SEQUENCE.NEXTVAL, 5, 8, 1000070, 10, TO_DATE('01-02-2024', 'DD-MM-YYYY'), 10000);

INSERT INTO TRANZACTIE(ID_TRANZACTIE, ID_CLIENT, ID_PLATA, ID_VEHICUL, ID_ANGAJAT, DATA_TRANZACTIE, SUMA)
VALUES (TRANZACTIE_SEQUENCE.NEXTVAL, 6, 9 ,1000080, 10, TO_DATE('05-02-2024', 'DD-MM-YYYY'), 10000);

INSERT INTO TRANZACTIE(ID_TRANZACTIE, ID_CLIENT, ID_PLATA, ID_VEHICUL, ID_ANGAJAT, DATA_TRANZACTIE, SUMA)
VALUES (TRANZACTIE_SEQUENCE.NEXTVAL, 6, 10, 1000090, 11, TO_DATE('10-02-2024', 'DD-MM-YYYY'), 8000);

SELECT *
FROM TRANZACTIE;

-- TABEL SERVICE

-- CREARE TABEL SERVICE
CREATE TABLE SERVICE
(
    ID_ANGAJAT INT,
    ID_VEHICUL INT,
    ID_PLATA INT,
    SUMA NUMBER(10,2),
    FOREIGN KEY (ID_ANGAJAT) REFERENCES MECANIC(ID_ANGAJAT),
    FOREIGN KEY (ID_VEHICUL) REFERENCES VEHICUL_DETINUT_CLIENT(ID_VEHICUL),
    FOREIGN KEY (ID_PLATA) REFERENCES PLATA(ID_PLATA)
);

-- INSERARE INREGISTRARI IN TABEL SERVICE

INSERT INTO SERVICE(ID_ANGAJAT, ID_VEHICUL, ID_PLATA, SUMA)
VALUES (5, 1000000, 11, 350);

INSERT INTO SERVICE(ID_ANGAJAT, ID_VEHICUL, ID_PLATA, SUMA)
VALUES (6, 1000010, 12, 200);

INSERT INTO SERVICE(ID_ANGAJAT, ID_VEHICUL, ID_PLATA, SUMA)
VALUES (6, 1000020, 13, 950);

INSERT INTO SERVICE(ID_ANGAJAT, ID_VEHICUL, ID_PLATA, SUMA)
VALUES (7, 1000030, 14, 2300);

INSERT INTO SERVICE(ID_ANGAJAT, ID_VEHICUL, ID_PLATA, SUMA)
VALUES (7, 1000040, 15, 95);

INSERT INTO SERVICE(ID_ANGAJAT, ID_VEHICUL, ID_PLATA, SUMA)
VALUES (5, 1000050, 16, 320);

INSERT INTO SERVICE(ID_ANGAJAT, ID_VEHICUL, ID_PLATA, SUMA)
VALUES (8, 1000060, 17, 499);

INSERT INTO SERVICE(ID_ANGAJAT, ID_VEHICUL, ID_PLATA, SUMA)
VALUES (12, 1000070, 18, 3870);

INSERT INTO SERVICE(ID_ANGAJAT, ID_VEHICUL, ID_PLATA, SUMA)
VALUES (13, 1000080, 19, 99);

INSERT INTO SERVICE(ID_ANGAJAT, ID_VEHICUL, ID_PLATA, SUMA)
VALUES (14, 1000090, 20, 870);

SELECT *
FROM SERVICE;

COMMIT;


SELECT
    utc.column_name,
    utc.data_type,
    utc.nullable,
    utc.data_default,
    utc.column_id,
    ucc.comments
FROM
    user_tab_columns utc
LEFT JOIN
    user_col_comments ucc ON ucc.table_name = utc.table_name AND ucc.column_name = utc.column_name
WHERE
    utc.table_name = 'EMPLOYEES';